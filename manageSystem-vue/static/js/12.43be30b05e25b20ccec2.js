webpackJsonp([12],{I8rX:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("lC5x"),l=t.n(s),o=t("J0Oq"),i=t.n(o),r=t("bBUo"),c=t("1h8J"),n={data:function(){return{addShopsForm:{shopName:"",address:"",tel:"",introduce:"",slogan:"",classifySelectVal:"",classify:[],characteristic:[],shippingFee:0,upSend:0,timer:[new Date(2016,9,10,8,40),new Date(2016,9,10,9,40)],activityData:[{activityTitle:"减",activityName:"满减优惠",activityInfo:"满30减5，满60减8"}]},discountsVal:"",discounts:[{value:"满减优惠",label:"满减优惠"},{value:"优惠大酬宾",label:"优惠大酬宾"},{value:"新用户立减",label:"新用户立减"},{value:"进店领券",label:"进店领券"}],imageUrl:"",activityInfo:"",dialogVisible:!1,showLoading:!1,rules:{shopName:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],tel:[{required:!0,message:"请输入联系电话"},{type:"number",message:"电话号码必须是数字"},{pattern:/^(0|86|17951)?(13[0-9]|15[012356789]|17[0678]|18[0-9]|14[57])[0-9]{8}$/,message:"电话号格式不正确",trigger:"blur"}]}}},methods:{querySearch:function(){},handleSelect:function(e){console.log(e)},characteristicChange:function(e){},upSendChange:function(e){},submitForm:function(e){var a=this;return i()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.$refs[e].validate(function(){var e=i()(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return a.showLoading=!0,e.next=4,Object(c.c)();case 4:!0===e.sent.data&&a.$message({message:"数据提交成功！",type:"success"}),a.showLoading=!1,e.next=10;break;case 9:a.$message({message:"表单有必填项验证不通过！",type:"error"});case 10:case"end":return e.stop()}},e,a)}));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,a)}))()},handleAvatarSuccess:function(e,a){this.imageUrl=URL.createObjectURL(a.raw)},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a?t||this.$message({message:"图片大小不能超过 2MB!",type:"error"}):this.$message({message:"图片只能是 JPG 格式！",type:"error"}),a&&t},activitySelect:function(e){this.dialogVisible=!0},addActivity:function(){var e=this.discountsVal,a={};if(""===this.activityInfo)return this.dialogVisible=!1,!1;switch(e){case"满减优惠":a={activityTitle:"减",activityName:"满减优惠",activityInfo:this.activityInfo};break;case"优惠大酬宾":a={activityTitle:"特",activityName:"优惠大酬宾",activityInfo:this.activityInfo};break;case"新用户立减":a={activityTitle:"新",activityName:"新用户立减",activityInfo:this.activityInfo};break;case"进店领券":a={activityTitle:"领",activityName:"进店领券",activityInfo:this.activityInfo}}this.addShopsForm.activityData.push(a),this.activityInfo="",this.dialogVisible=!1},deleteActivity:function(e){this.addShopsForm.activityData.splice(e.$index,1)}},components:{headTop:r.a}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"add_shops"},[t("head-top"),e._v(" "),t("div",{staticClass:"baseList_table_conter"},[t("el-form",{ref:"addShopsForm",attrs:{rules:e.rules,model:e.addShopsForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"店铺名称",prop:"shopName"}},[t("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:e.addShopsForm.shopName,callback:function(a){e.$set(e.addShopsForm,"shopName",a)},expression:"addShopsForm.shopName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.addShopsForm.address,callback:function(a){e.$set(e.addShopsForm,"address",a)},expression:"addShopsForm.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[t("el-input",{attrs:{maxlength:11,placeholder:"请输入电话"},model:{value:e.addShopsForm.tel,callback:function(a){e.$set(e.addShopsForm,"tel",e._n(a))},expression:"addShopsForm.tel"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺简介"}},[t("el-input",{attrs:{placeholder:"请输入店铺简介"},model:{value:e.addShopsForm.introduce,callback:function(a){e.$set(e.addShopsForm,"introduce",a)},expression:"addShopsForm.introduce"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺标语"}},[t("el-input",{attrs:{placeholder:"请输入店铺标语"},model:{value:e.addShopsForm.slogan,callback:function(a){e.$set(e.addShopsForm,"slogan",a)},expression:"addShopsForm.slogan"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺分类"}},[t("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.addShopsForm.classifySelectVal,callback:function(a){e.$set(e.addShopsForm,"classifySelectVal",a)},expression:"addShopsForm.classifySelectVal"}},e._l(e.addShopsForm.classify,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺特点"}},[t("el-checkbox-group",{model:{value:e.addShopsForm.characteristic,callback:function(a){e.$set(e.addShopsForm,"characteristic",a)},expression:"addShopsForm.characteristic"}},[t("el-checkbox",{attrs:{label:"品牌保证"}}),e._v(" "),t("el-checkbox",{attrs:{label:"蜂鸟专送"}}),e._v(" "),t("el-checkbox",{attrs:{label:"新开店铺"}}),e._v(" "),t("el-checkbox",{attrs:{label:"外卖保"}}),e._v(" "),t("el-checkbox",{attrs:{label:"准时达"}}),e._v(" "),t("el-checkbox",{attrs:{label:"开发票"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"配送费"}},[t("el-input-number",{attrs:{min:0},on:{change:e.characteristicChange},model:{value:e.addShopsForm.shippingFee,callback:function(a){e.$set(e.addShopsForm,"shippingFee",a)},expression:"addShopsForm.shippingFee"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"起送价"}},[t("el-input-number",{attrs:{min:0},on:{change:e.upSendChange},model:{value:e.addShopsForm.upSend,callback:function(a){e.$set(e.addShopsForm,"upSend",a)},expression:"addShopsForm.upSend"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"营业时间"}},[t("el-time-picker",{attrs:{"is-range":"",format:"HH:mm","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:e.addShopsForm.timer,callback:function(a){e.$set(e.addShopsForm,"timer",a)},expression:"addShopsForm.timer"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"店铺头像"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"营业执照"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"餐饮许可证"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),t("el-form-item",{attrs:{label:"优惠活动"}},[t("el-select",{attrs:{placeholder:"请选择优惠活动"},on:{change:e.activitySelect},model:{value:e.discountsVal,callback:function(a){e.discountsVal=a},expression:"discountsVal"}},e._l(e.discounts,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-row",{staticClass:"baseList_table_border"},[t("el-table",{attrs:{data:e.addShopsForm.activityData,"header-row-class-name":"baseList_table_head"}},[t("el-table-column",{attrs:{label:"活动标题",prop:"activityTitle"}}),e._v(" "),t("el-table-column",{attrs:{label:"活动名称",prop:"activityName"}}),e._v(" "),t("el-table-column",{attrs:{label:"活动详情",prop:"activityInfo"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.deleteActivity(a)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),t("el-row",{staticClass:"boxFlexCen mrt_20"},[t("el-button",{attrs:{type:"primary",loading:e.showLoading},on:{click:function(a){e.submitForm("addShopsForm")}}},[e._v("立即创建")])],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"添加优惠信息",width:"500px",visible:e.dialogVisible,"show-close":!1},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("div",{staticClass:"mrb_20"},[e._v("请输入活动详情")]),e._v(" "),t("el-input",{attrs:{autofocus:!0},model:{value:e.activityInfo,callback:function(a){e.activityInfo=a},expression:"activityInfo"}}),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.addActivity}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var p=t("Z0/y")(n,d,!1,function(e){t("mbB0")},null,null);a.default=p.exports},mbB0:function(e,a){}});